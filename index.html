<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Яндекс ДТП</title>
    <style>
        html, body, #map {
            width: 100%;
            height: 100%;
            margin: 0;
            padding: 0;
            background: #000; /* на случай если карта не загрузится */
        }
    </style>
    <!-- API Яндекс.Карт -->
    <script src="https://api-maps.yandex.ru/2.1/?lang=ru_RU&apikey=3de168ba-04ed-42f5-bb4e-6abff9b3f317" type="text/javascript"></script>
</head>
<body>
    <div id="map"></div>
    <script>
        // Ждём загрузки API
        ymaps.ready(function() {
            try {
                // Создаём карту с ночной темой
                var myMap = new ymaps.Map("map", {
                    center: [51.6833, 39.1802],
                    zoom: 13,
                    controls: [],
                    type: 'yandex#dark' // ночная тема
                });

                // Пробки
                var actualProvider = new ymaps.traffic.provider.Actual({}, { infoLayerShown: true });
                actualProvider.setMap(myMap);

                var infoLayer = new ymaps.traffic.InfoLayer(myMap, { provider: actualProvider });
                infoLayer.setMap(myMap);

            } catch (e) {
                console.error("Ошибка инициализации карты:", e);
                document.getElementById("map").innerHTML = "<h2 style='color:white;text-align:center;margin-top:40vh'>Ошибка загрузки карты</h2>";
            }
        });
    </script>
</body>
</html>
